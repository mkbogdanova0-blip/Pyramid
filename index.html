<!doctype html>
<html lang="bg">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Египетска пирамида – задача</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; padding: 24px; background: #f7f7f7; }
    .card { max-width: 820px; margin: 0 auto; background: #fff; border-radius: 16px; padding: 20px; box-shadow: 0 8px 30px rgba(0,0,0,.08); }
    h1 { margin: 0 0 8px; font-size: 22px; }
    .sub { margin: 0 0 16px; color: #555; line-height: 1.35; }
    .row { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    input { padding: 12px 12px; border-radius: 12px; border: 1px solid #ccc; font-size: 16px; width: 260px; }
    button { padding: 12px 14px; border-radius: 12px; border: 0; cursor: pointer; font-size: 16px; background:#111; color:#fff; }
    .msg { padding: 12px; border-radius: 12px; display: none; margin-top: 12px; }
    .ok { background: #e9fff0; border: 1px solid #b7f0c6; }
    .bad { background: #fff2f2; border: 1px solid #ffd0d0; }
    .svgwrap { display: none; margin-top: 14px; }
    .photo { display:none; margin-top: 14px; }
    .photo img { width: 100%; height: auto; border-radius: 14px; display:block; }
    .small { color:#666; font-size: 13px; margin-top: 6px; }
    .pill { display:inline-block; padding: 4px 10px; border-radius: 999px; background:#f0f0f0; font-size: 13px; }
  </style>
</head>
<body>
  <div class="card">
    <h1>Египетска пирамида – задача</h1>
    <p class="sub">
      Дадено: квадратна основа <span class="pill">a = 230 m</span> и височина <span class="pill">h = 146 m</span>.<br>
      Намерете <b>обема V</b> на пирамидата (в m³).
    </p>

    <div class="row">
      <input id="ans" inputmode="numeric" placeholder="Въведи отговор (m³)" />
      <button type="button" onclick="check()">Провери</button>
    </div>

    <div id="msgOk" class="msg ok">✅ Верен отговор!</div>
    <div id="msgBad" class="msg bad">❌ Не е вярно. Опитай отново.</div>

    <!-- Схемата (остава) -->
    <div class="svgwrap" id="svgWrap">
      <svg viewBox="0 0 760 360" width="100%" height="auto" aria-label="Схема на пирамида">
        <polygon points="180,270 420,310 660,270 420,230" fill="none" stroke="black" stroke-width="3"/>
        <circle cx="420" cy="90" r="4" fill="black"/>
        <line x1="420" y1="90" x2="180" y2="270" stroke="black" stroke-width="3"/>
        <line x1="420" y1="90" x2="660" y2="270" stroke="black" stroke-width="3"/>
        <line x1="420" y1="90" x2="420" y2="310" stroke="black" stroke-width="2" stroke-dasharray="6 6"/>

        <text x="300" y="338" font-size="18">a = 230 m</text>
        <text x="440" y="170" font-size="18">h = 146 m</text>

        <text x="40" y="60" font-size="18">V = (1/3) · B · h</text>
        <text x="40" y="88" font-size="18">B = a²</text>

        <g transform="translate(560 40) rotate(8)">
          <rect x="0" y="0" width="160" height="54" rx="10" fill="none" stroke="black" stroke-width="3"/>
          <text x="80" y="35" text-anchor="middle" font-size="22">БРАВО ✔</text>
        </g>
      </svg>
      <div class="small">Провери дали си приложил(а) правилно формулата за обем на пирамида.</div>
    </div>

    <!-- Снимката (появява се след схемата, само при верен отговор) -->
    <div class="photo" id="photoWrap">
      <img src="Pyramid.jpg" alt="Египетска пирамида">
    </div>
  </div>

  <script>
    alert("JS работи");
    // Верният отговор е в кода (нужно е за проверката), но НЕ се показва никъде.
    const correct = 2574000;
    const tolerance = 5000; // допускаме малко закръгляне

    function normalizeNumber(str) {
      // приема въвеждане с интервали/запетаи/точки (без да го обясняваме на екрана)
      return (str || "").toString().replace(/[ \t\n\r.,]/g, "");
    }

    function show(el, yes) { el.style.display = yes ? "block" : "none"; }

    function check() {
      const raw = document.getElementById("ans").value;
      const cleaned = normalizeNumber(raw);

      const okBox = document.getElementById("msgOk");
      const badBox = document.getElementById("msgBad");
      const svg = document.getElementById("svgWrap");
      const photo = document.getElementById("photoWrap");

      // Невалиден вход
      if (!cleaned || isNaN(Number(cleaned))) {
        badBox.textContent = "Моля, въведи число.";
        show(badBox, true);
        show(okBox, false);
        show(svg, false);
        show(photo, false);
        return;
      }

      const value = Number(cleaned);
      const isCorrect = Math.abs(value - correct) <= tolerance;

      if (isCorrect) {
        show(okBox, true);
        show(badBox, false);
        show(svg, true);
        show(photo, true);
      } else {



